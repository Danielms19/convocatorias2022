<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Convocatorias - CAS</title>
    <meta name="description" content="UGEL 04" />
    <meta name="keywords" content="UGEL 04, CONVOCATORIAS" />
    <meta name="author" content="UGEL 04" />

       <link rel="stylesheet" href="<?php echo base_url(); ?>dist_consulta/css/spinner.css">
    <!-- BOOTSTRAP -->
    <link href="<?php echo base_url(); ?>dist_consulta/css/bootstrap.min.css" rel="stylesheet">
    <!-- FONT AWESOME -->
    <link href="<?php echo base_url(); ?>dist_consulta/css/font-awesome.min.css" rel="stylesheet">

    <link href="https://fonts.googleapis.com/css?family=Fjalla+One" rel="stylesheet">

    <!-- LIGHTBOX 2 -->
    <link rel="stylesheet" href="<?php echo base_url(); ?>dist_consulta/css/lightbox.css">
    <!-- OWL CAROSEL -->
    <link href="<?php echo base_url(); ?>dist_consulta/css/owl.carousel.css" rel="stylesheet">
    <link href="<?php echo base_url(); ?>dist_consulta/css/owl.theme.css" rel="stylesheet">
    <link href="<?php echo base_url(); ?>dist_consulta/css/owl.transitions.css" rel="stylesheet">
    <!-- PORTFOLIO GRID -->
    <link href="<?php echo base_url(); ?>dist_consulta/bfassets/css/bootFolio.css" rel="stylesheet">
    <link href="<?php echo base_url(); ?>dist_consulta/css/helper.css" rel="stylesheet">
        <link rel="stylesheet" href="<?php echo base_url(); ?>dist_consulta/css/idangerous.swiper.css">
    <!-- ICON -->
    <link href="<?php echo base_url(); ?>dist_consulta/css/pe-icon-7-stroke.css" rel="stylesheet">

    <!-- CUSTOM STYLE -->
    <link href="<?php echo base_url(); ?>dist_consulta/css/style.css" rel="stylesheet">

    <!-- blueimp Gallery styles  -->
<link rel="stylesheet" href="//blueimp.github.io/Gallery/css/blueimp-gallery.min.css">
<!-- CSS to style the file input field as button and adjust the Bootstrap progress bars  -->
<link rel="stylesheet" href="<?php echo base_url(); ?>upload/css/jquery.fileupload.css">
<link rel="stylesheet" href="<?php echo base_url(); ?>upload/css/jquery.fileupload-ui.css">


<noscript><link rel="stylesheet" href="<?php echo base_url(); ?>upload/css/jquery.fileupload-noscript.css"></noscript>
<noscript><link rel="stylesheet" href="<?php echo base_url(); ?>upload/css/jquery.fileupload-ui-noscript.css"></noscript>
    
    
    	<link rel="icon" type="image/png"
	href="<?php echo base_url(); ?>dist/img/favicon.ico" />
   
   <style type="text/css">
   body{
    padding-right: 0 !important;
   font-size: 12px;
   }
		  th {
		    background-color:#3b87c8;
		    color: #FFF;
		    position: relative;
		    text-align: left; 
		    padding: 8px;
		    font-size:14px;
		   
			} 

    #lateral { width: 90%; }
			
	.label {
	  font-size:10px;
	}
	
	.dataTables_wrapper .dataTables_processing {
    position: absolute;
    top: 50%;
    left: 50%;
    width: 100%;
    height: 40px;
    margin-left: -50%;
    text-align: center;
    font-size: 1.2em;
    background-color: white;
    background: -webkit-gradient(linear, left top, right top, color-stop(0%, rgba(255, 255, 255, 0)), color-stop(25%, rgba(255, 255, 255, 0.9)), color-stop(75%, rgba(255, 255, 255, 0.9)), color-stop(100%, rgba(255, 255, 255, 0)));
    background: -webkit-linear-gradient(left, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0.9) 25%, rgba(255, 255, 255, 0.9) 75%, rgba(255, 255, 255, 0) 100%);
    background: -moz-linear-gradient(left, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0.9) 25%, rgba(255, 255, 255, 0.9) 75%, rgba(255, 255, 255, 0) 100%);
    background: -ms-linear-gradient(left, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0.9) 25%, rgba(255, 255, 255, 0.9) 75%, rgba(255, 255, 255, 0) 100%);
    background: -o-linear-gradient(left, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0.9) 25%, rgba(255, 255, 255, 0.9) 75%, rgba(255, 255, 255, 0) 100%);
    background: linear-gradient(to right, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0.9) 25%, rgba(255, 255, 255, 0.9) 75%, rgba(255, 255, 255, 0) 100%);
}


.bordecito{
    border: 1px solid #555;
    }

   </style>
   
   
</head>

<body>
    <div class="spinner_hol">
      
    </div>


<!-- =========================
     START ABOUT US
============================== -->

    <section class="we_are page about type_one" id="CONVOCATORIAS">
        <div class="container no-pading" id="lateral">
            <!-- ABOUT US SECTION TITLE AND DECS-->
                <ul class="nav navbar-left">
                            <li><a style="font-size: 20px" target="_blank" href="http://ugel04.gob.pe/">  <img id="logo" height="80" src="<?php echo base_url(); ?>dist/img/logo_login.png" alt="UGEL 04"> </a> </li>
                
                        </ul> 
                        <br>
                             <ul class="nav navbar-left">
                            <li><h2 style="padding-bottom: 20px;"> <span style="color: #222D32; text-align: center; margin-left: 150px; font-family: 'Fjalla One', sans-serif; font-size: 38px;">CONVOCATORIA CAS Y PRACTICANTE <?php date_default_timezone_set('GMT'); echo date('Y'); ?></span></h2> </li>
                                        </ul>
                            <ul class="nav navbar-left" align="text-center">
                            <li>
                            </li>
                </ul>


				<div class="row">
					<div class="col-xs-12">
						<div class="box box-solid">
						<div class="box-header">
								<h3 style="font-size:18px">
									<i class="fa fa-search"></i> Búsqueda de convocatorias 
								</h3>
								
							</div>
							<br>
							<div class="box-body">
								<div class="form-horizontal">
										
										<div class="row">
							
								<div class="col-md-3">
								<div class="form-group">
									<label class="control-label col-md-2">Tipo</label>
									<div class="col-md-8">
									<select data-column="3" class="search-input-select form-control select2" style="width: 100%" >
                                    <option value="" selected>TODOS</option>
										<?php foreach($tipos as $tipo ){?>
										<option value="<?php echo $tipo['IDtipo']; ?>"><?php echo $tipo['descripcionLarga']?></option>
										<?php } ?>
										</select>
									</div>
								</div>
								</div>
								<div class="col-md-3">
								<div class="form-group">
									<label class="control-label col-md-2">Estado</label>
									<div class="col-md-7">
									<select data-column="3" class="search-input-select form-control select2" style="width: 100%">
													<option value="0">TODOS</option>
													<option value="1">ACTIVO</option>
													<option value="2">EN PROCESO</option> 
													<option value="3">CONCLUIDO</option> 
											</select>
									</div>
								</div>
								</div>
								<div class="col-md-2">
								<div class="form-group">
									<label class="control-label col-md-4">Número</label>
									<div class="col-md-6">
										<input type="text" data-column="2"
												
												class="search-input-text form-control" style="width: 100%">
									</div>
								</div>
								</div>
							
								<div class="col-md-4">
								<div class="form-group">
									<label class="control-label col-md-2">Puesto</label>
									<div class="col-md-10">
									<input type="text" data-column="2" class="search-input-text form-control" style="width: 100%">
									</div>
								</div>
								</div>


								</div>

							</div>
						</div>
					</div>
				</div>
				</div>
				<br>
				<div class="row">
                <div class="table-responsive">
                    
                
                    <table id="table" class="table table-condensed table-hover"
										cellspacing="0" width="100%">
										<thead class="">
											<tr>
												<th class="text-center" style="width: 150px;  vertical-align: middle; background: #222D32;" >N°</th>
												<th class="text-center" style="width: 120px;  vertical-align: middle; background: #222D32;" >Fecha de Publicación</th>
												<th style="width: 500px; vertical-align: middle; background: #222D32;" >Contratación Administrativa de Servicio - CAS</th>
												<th class="text-center" style="vertical-align: middle; background: #222D32;">Cantidad</th>
												<th class="text-center" style="width: 120px; vertical-align: middle; background: #222D32;">Bases</th>
												<th class="text-center" style="width: 120px; vertical-align: middle; background: #222D32;">Evaluación Hoja de vida</th>
												<th class="text-center" style="width: 120px; vertical-align: middle; background: #222D32;">Exámen técnico</th>
												<th class="text-center" style="width: 120px; vertical-align: middle; background: #222D32;">Comunicado</th>
												<th class="text-center" style="width: 120px; vertical-align: middle; background: #222D32;">Resultado final</th>
                                                <th class="text-center" style="width: 120px; vertical-align: middle; background: #222D32;">Estado</th>
                                                <th class="text-center" style="width: 120px; vertical-align: middle; background: #222D32;">Postula</th>
                                                <th class="text-center" style="width: 120px; vertical-align: middle; background: #222D32;">Código de Convocatoria</th>

											</tr>
										</thead>
										<tbody>
										</tbody>
									</table>
							
                   
                </div>
                </div>



            </div>



            <!--MODAL DE POSTULACION-->

            <div class="modal fade" id="modal_convocatoria" role="dialog">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                <div class="modal-header" style="background: #222D32; color:white;text-align: center;">
                        <button type="button" class="close" data-dismiss="modal"
                            aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                        <h3 class="modal-title" id="titulo_convocatoria" style="font-family: 'Fjalla One', sans-serif;"></h3>
                    </div>
                    <div class="modal-body" >
                       <form id="form_convocatoria" class="form-horizontal">
                                        <input type="hidden" value="" id="IDconvocatoria" name="IDconvocatoria"> 
                                            <!-- <div class="form-group">
                                                <label class="control-label col-md-3">Numero</label>
                                                <div class="col-md-2">
                                                    <input name="numero" value="" class="form-control" type="text">
                                                    <span class="help-block"></span>
                                                </div>
                                            </div> -->
                                            <div class="row">
                                                
                                                <input type="hidden" name="fk_convocatoria" id="fk_convocatoria" style="color: red; font-weight: bold;font-size: 16px;">


                                            <div class="col-md-4">
                                                <div class="form-group">
                                                    <label style="width: 100%" class="control-label col-md-6">Nº Documento</label>
                                                    <div class="col-md-12">
                                                        <input id="input_dni" name="input_dni" maxlength="8" placeholder="DOCUMENTO"  class="form-control bordecito solo-numero" type="text" autocomplete="off"> <span class="help-block"></span>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-4">
                                                <div class="form-group">
                                                    <label style="width: 100%" class="control-label col-md-6">Sexo</label>
                                                    <div class="col-md-12" align="center">
                                                        <select id="input_sexo" name="input_sexo" class="form-control bordecito">
                                                            <option value="0">.:: SELECCIONE ::.</option>
                                                            <option value="1">FEMENINO</option>
                                                            <option value="2">MASCULINO</option>
                                                        </select> <span class="help-block"></span>
                                                        <label id="mensaje_error" class="control-label col-md-12 text-success" style="display: block;"></label>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-4" style="visibility: hidden;">
                                                <div class="form-group">
                                                    <label class="control-label col-md-6">Fecha Nacimiento</label>
                                                    <div class="col-md-12">
                                                        <input id="fecha" name="fecha" autocomplete="off" value="" class="form-control datepicker bordecito"
                                                                type="text">
                                                        <span class="help-block"></span>
                                                    </div>
                                                </div>
                                            </div>                                           
                                        </div>
                                        <div class="row">
                                            <div class="col-md-4">
                                                <div class="form-group">
                                                    <label style="width: 100%" class="control-label col-md-6">Nombres</label>
                                                    <div class="col-md-12">
                                                        <input onkeypress="return letra(event)" id="input_nombre" name="input_nombre" placeholder="NOMBRES COMPLETOS" class="form-control bordecito mayusculas" type="text" autocomplete="off">
                                                        <span class="help-block"></span>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-4">
                                                <div class="form-group">
                                                    <label style="width: 100%" class="control-label col-md-6">Apellido Paterno</label>
                                                    <div class="col-md-12">
                                                        <input onkeypress="return letra(event)" id="input_apaterno" name="input_apaterno" placeholder="PRIMER APELLIDO" class="form-control bordecito mayusculas" type="text" autocomplete="off"> <span class="help-block"></span>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-4">
                                                <div class="form-group">
                                                    <label style="width: 100%" class="control-label col-md-6">Apellido Materno</label>
                                                    <div class="col-md-12">
                                                        <input onkeypress="return letra(event)" id="input_amaterno" name="input_amaterno" placeholder="SEGUNDO APELLIDO"  class="form-control mayusculas bordecito" type="text"> <span class="help-block"></span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-6">
                                                <div class="row">
                                                    <div class="col-md-6">
                                                        <div class="form-group">
                                                            <label style="width: 100%" class="control-label col-md-6">Celular</label>
                                                            <div class="col-md-12">
                                                                <input id="input_cel" name="input_cel" maxlength="9" placeholder="CELULAR"  class="form-control bordecito solo-numero" type="text" autocomplete="off"> <span class="help-block"></span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <div class="form-group">
                                                            <label style="width: 100%" class="control-label col-md-6">Correo Electrónico</label>
                                                            <div class="col-md-12">
                                                               <input id="input_email" name="input_email" maxlength="50" placeholder="EMAIL"  class="form-control bordecito" type="text" autocomplete="off"> <span class="help-block"></span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-md-6">
                                                        
                                                    </div>
                                                    <div class="col-md-6">
                                                        <div class="form-group">
                                                    <label style="width: 100%" class="control-label col-md-6">Estado Civil</label>
                                                    <div class="col-md-12" align="center">
                                                        <select id="input_estado_civil" name="input_estado_civil" class="form-control bordecito">
                                                            <option value="0">.:: SELECCIONE ::.</option>
                                                            <option value="SOLTERO">SOLTERO</option>
                                                            <option value="CASADO">CASADO</option>
                                                        </select> <span class="help-block"></span>
                                                        <label id="mensaje_error" class="control-label col-md-12 text-success" style="display: block;"></label>
                                                    </div>
                                                </div>
                                                    </div>
                                                    
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="form-group">
                                                            <label style="width: 100%" class="control-label col-md-6">Dirección </label>
                                                            <div class="col-md-12">
                                                               <textarea class="bordecito mayusculas" name="input_direccion" id="input_direccion" style="width: 100%;resize: none;height: 100px;font-weight: bold;"></textarea> <span class="help-block"></span>
                                                            </div>
                                                        </div>
                                            </div>
                                            
                                        </div> 
                                                   
                                        <div class="box-tools pull-right">
                                            <div class="btn-toolbar">
                                            <button type="button" id="btnGuardar" onclick="guardar_convocatoria()" class="btn btn-primary ">Continuar</button>

                        </form>
                                    </div>
                                </div>
                                
   <br><br>
     <div class="nav-tabs-custom" id="carga_archivos">
                <ul class="nav nav-tabs">
                  <li id="principal" onclick="cambio(1)"><a style="background: #222D32; color: white; font-weight: bold;" data-toggle="tab">Adjuntar Expediente Aqui</a></li>
                </ul>
                
    <br>
    <!-- The file upload form used as target for the file upload widget -->
    <form id="fileupload" action="" method="POST" enctype="multipart/form-data">
        <!-- Redirect browsers with JavaScript disabled to the origin page -->
        <noscript><input type="hidden" name="redirect" value="https://blueimp.github.io/jQuery-File-upload/"></noscript>
        <!-- The fileupload-buttonbar contains buttons to add/delete files and start/cancel the upload -->
        <div class="row fileupload-buttonbar">
            <div class="col-lg-7">
                <!-- The fileinput-button span is used to style the file input field as button -->
                <span class="btn btn-success fileinput-button">
                    <i class="glyphicon glyphicon-plus"></i>
                    <span>Agregar su documento</span>
                    <input type="file" name="files[]" multiple>
                </span>

                <input type="checkbox" class="toggle" style="display: none;">
                <!-- The global file processing state -->
                <span class="fileupload-process"></span>
            </div>
            <!-- The global progress state -->
            <div class="col-lg-5 fileupload-progress fade">
                <!-- The global progress bar -->
                <div class="progress progress-striped active" role="progressbar" aria-valuemin="0" aria-valuemax="100">
                    <div class="progress-bar progress-bar-success" style="width:0%;"></div>
                </div>
                <!-- The extended global progress state -->
                <div class="progress-extended">&nbsp;</div>
            </div>
        </div>

        <table id="tabla_archivos" role="presentation" class="table table-striped"><tbody class="files"></tbody></table>
    </form>
    
    
    
    
</div>

</div>


</div>

            <div class="modal fade" id="mRespuesta"  role="dialog"
                     aria-labelledby="myModalLabel">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header" style="background: #3C8DBC; color: white;">
                                <button type="button" class="close" data-dismiss="modal"
                                        aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                                <h4 style="font-weight: bold;" class="modal-title" id="myModalLabel">NOTIFICACIÓN</h4>
                            </div>
                            <div class="modal-body">
                                <p align="center">
                                    <b id="msg"> Usted registró satisfactoriamente su postulación a esta plaza</b>
                                </p>
                                <input id="modov" value="" hidden>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-primary" data-dismiss="modal" >Aceptar</button>
                            </div>
                        </div>
                    </div>
                </div>


                </div>
            </div>
        </div>

            <!-- The template to display files available for upload -->
<script id="template-upload" type="text/x-tmpl">
{% for (var i=0, file; file=o.files[i]; i++) { %}
    <tr class="template-upload fade">
        <td>
            <span class="preview"></span>
        </td>
        <td>
            <p class="name">{%=file.name%}</p>
            <strong class="error text-danger"></strong>
        </td>
        <td>
            <p class="size">Processing...</p>
            <div class="progress progress-striped active" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0"><div class="progress-bar progress-bar-success" style="width:0%;"></div></div>
        </td>
        <td>
            {% if (!i && !o.options.autoUpload) { %}
                <button class="btn btn-primary start" disabled>
                    <i class="glyphicon glyphicon-upload"></i>
                    <span>Cargar</span>
                </button>
            {% } %}
            {% if (!i) { %}
                <button class="btn btn-warning cancel">
                    <i class="glyphicon glyphicon-ban-circle"></i>
                    <span>Cancelar</span>
                </button>
            {% } %}
        </td>
    </tr>
{% } %}
</script>
<!-- The template to display files available for download -->
<script id="template-download" type="text/x-tmpl">
{% for (var i=0, file; file=o.files[i]; i++) { %}
    <tr class="template-download fade">
        <td>
            <span class="preview">
                {% if (file.thumbnailUrl) { %}
                    <a href="{%=file.url%}" title="{%=file.name%}" download="{%=file.name%}" data-gallery><img src="{%=file.thumbnailUrl%}"></a>
                {% } %}
            </span>
        </td>
        <td>
            <p class="name">
                {% if (file.url) { %}
                    <a href="{%=file.url%}" title="{%=file.name%}" download="{%=file.name%}" {%=file.thumbnailUrl?'data-gallery':''%}>{%=file.name%}</a>
                {% } else { %}
                    <span>{%=file.name%}</span>
                {% } %}
            </p>
            {% if (file.error) { %}
                <div><span class="label label-danger">Error</span> {%=file.error%}</div>
            {% } %}
        </td>
        <td>
            <span class="size">{%=o.formatFileSize(file.size)%}</span>
        </td>
        <td>
            {% if (file.deleteUrl) { %}
               <button class="btn btn-danger delete" data-type="{%=file.deleteType%}" onclick="eliminar_archivo('{%=file.name%}')" {% if (file.deleteWithCredentials) { %} data-xhr-fields='{"withCredentials":true}'{% } %}>
                    <i class="glyphicon glyphicon-trash"></i>
                    <span>Eliminar</span>
                </button>
                <input type="checkbox" name="delete" value="1" class="toggle">
            {% } else { %}
                <button class="btn btn-warning cancel">
                    <i class="glyphicon glyphicon-ban-circle"></i>
                    <span>Cancel</span>
                </button>
            {% } %}
        </td>
    </tr>
{% } %}
</script>


    <!-- End About Us-->

    </section>


    </section>




     <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="<?php echo base_url(); ?>dist_consulta/js/jquery.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="<?php echo base_url(); ?>dist_consulta/js/bootstrap.min.js"></script>
    <script src="<?php echo base_url(); ?>dist_consulta/js/waypoints.min.js"></script>
    <script src="<?php echo base_url(); ?>dist_consulta/js/lightbox.js"></script>
    <script src="<?php echo base_url(); ?>dist_consulta/js/owl.carousel.min.js"></script>
    <script src="<?php echo base_url(); ?>dist_consulta/js/idangerous.swiper.js"></script>
    <script src="<?php echo base_url(); ?>dist_consulta/js/idangerous.swiper.progress.js"></script>
    <script src="<?php echo base_url(); ?>dist_consulta/js/jquery.counterup.min.js"></script>
    <script src="<?php echo base_url(); ?>dist_consulta/js/jquery.isotope.min.js"></script>
    <script src="<?php echo base_url(); ?>dist_consulta/js/jquery.hoverdir.js"></script>
    <script src="<?php echo base_url(); ?>dist_consulta/bfassets/js/jquery.bootFolio.js"></script>
    <script src="<?php echo base_url(); ?>dist_consulta/js/jquery.easing.min.js"></script>
    <script src="<?php echo base_url(); ?>dist_consulta/js/smoothscroll.js"></script>
    <script src="<?php echo base_url(); ?>dist_consulta/js/jquery.ajaxchimp.min.js"></script>
    <script src="<?php echo base_url(); ?>dist_consulta/js/jquery.parallax-1.1.3.js"></script>
    <script src="<?php echo base_url(); ?>dist_consulta/js/matchMedia.js"></script> 
    <script src="<?php echo base_url(); ?>dist_consulta/js/script.js"></script>

    <!-- The jQuery UI widget factory, can be omitted if jQuery UI is already included -->
<script src="<?php echo base_url(); ?>upload/js/vendor/jquery.ui.widget.js"></script>
<!-- The Templates plugin is included to render the <?php echo base_url(); ?>upload/download listings -->
<script src="//blueimp.github.io/JavaScript-Templates/js/tmpl.min.js"></script>
<!-- The Load Image plugin is included for the preview images and image resizing functionality -->
<script src="//blueimp.github.io/JavaScript-Load-Image/js/load-image.all.min.js"></script>
<!-- The Canvas to Blob plugin is included for image resizing functionality -->
<script src="//blueimp.github.io/JavaScript-Canvas-to-Blob/js/canvas-to-blob.min.js"></script>

<script src="//blueimp.github.io/Gallery/js/jquery.blueimp-gallery.min.js"></script>

<script src="<?php echo base_url(); ?>upload/js/jquery.iframe-transport.js"></script>




	<script
		src="<?php echo base_url(); ?>plugins/datatables/jquery.dataTables.min.js"></script>
	<script
		src="<?php echo base_url(); ?>plugins/datatables/dataTables.bootstrap.min.js"></script>
	<script
		src="<?php echo base_url(); ?>plugins/datatables/extensions/Responsive/js/dataTables.responsive.min.js"></script>

   <script src="<?php echo base_url(); ?>upload/js/jquery.iframe-transport.js"></script>
<!-- The basic File Upload plugin -->
<script src="<?php echo base_url(); ?>upload/js/jquery.fileupload.js"></script>
<!-- The File Upload processing plugin -->
<script src="<?php echo base_url(); ?>upload/js/jquery.fileupload-process.js"></script>
<!-- The File Upload image preview & resize plugin -->
<script src="<?php echo base_url(); ?>upload/js/jquery.fileupload-image.js"></script>
<!-- The File Upload audio preview plugin -->
<script src="<?php echo base_url(); ?>upload/js/jquery.fileupload-audio.js"></script>
<!-- The File Upload video preview plugin -->
<script src="<?php echo base_url(); ?>upload/js/jquery.fileupload-video.js"></script>
<!-- The File Upload validation plugin -->
<script src="<?php echo base_url(); ?>upload/js/jquery.fileupload-validate.js"></script>
<!-- The File Upload user interface plugin -->
<script src="<?php echo base_url(); ?>upload/js/jquery.fileupload-ui.js"></script>
      
      <script type="text/javascript">

      var table;
      
      $(document).ready(function() {
		    table = $('#table').DataTable({
		    	"processing": true,
		        "serverSide": true,
		        "lengthChange": false,
		        "order": [],
		        "ajax": {
		            "url": "<?php echo site_url('consulta/lista')?>",
		            "type": "POST",
		            "data": {"ci_csrf_token":"<?php echo $this->security->get_csrf_hash(); ?>"}
		        },
		        "columnDefs": [
		        {
		            "targets": [ -1,-2, 1, 0, 2, 3,4,5,6 ],
		            "orderable": false,
		        },
		        ],     
		        "language": {
		        	"processing":     "Procesando...",
		            "lengthMenu":     "Mostrar _MENU_ registros",
		            "zeroRecords":    "No se encontraron resultados",
		            "emptyTable":     "Ningún dato disponible en esta tabla",
		            "info":           "Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",
		            "infoEmpty":      "Mostrando registros del 0 al 0 de un total de 0 registros",
		            "infoFiltered":   "(filtrado de un total de _MAX_ registros)",
		            "infoPostFix":    "",
		            "search":         "Buscar:",
		            "url":            "",
		            "infoThousands":  ",",
		            "loadingRecords": "Cargando...",
		            "paginate": {
		                "first":    "Primero",
		                "last":     "Último",
		                "next":     "Siguiente",
		                "previous": "Anterior"
		            },
		            "aria": {
		                "sortAscending":  ": Activar para ordenar la columna de manera ascendente",
		                "sortDescending": ": Activar para ordenar la columna de manera descendente"
		            }
		        },
		        "iDisplayLength": 15,
		    });

		
		   

		    $('#table_filter').css('display','none');
    	 
		});

      $('.search-input-text').on( 'keyup click', function () {   // for text boxes
	        var i = $(this).attr('data-column');  // getting column index
	        var v = $(this).val();  // getting search input value
	        table.columns(i).search(v).draw();
	    } );

	    $('.search-input-select').on( 'change', function () {   // for select box
	        var i =$(this).attr('data-column');
	        var v =$(this).val();
	        table.columns(i).search(v).draw();
	    } );


        $(".mayusculas").click(function () {
            $(".mayusculas").keyup(function () {
                this.value = this.value.toUpperCase();
            });
        });

        $('.solo-numero').on('input', function () { 
        this.value = this.value.replace(/[^0-9]/g,'');
        });

        function letra(e){
       key = e.keyCode || e.which;
       tecla = String.fromCharCode(key).toLowerCase();
       letras = " áéíóúabcdefghijklmnñopqrstuvwxyz";
       especiales = "8-37-39-46";

       tecla_especial = false
       for(var i in especiales){
            if(key == especiales[i]){
                tecla_especial = true;
                break;
            }
        }

        if(letras.indexOf(tecla)==-1 && !tecla_especial){
            return false;
        }
    }


        function eliminar_archivo(archivo){
            dir = convocatoria+'/'+tipo+'/'+archivo;
             $.ajax({
                    url : "<?php echo site_url('Consulta/eliminar_archivo')?>",
                    type: "POST",
                    data: {archivo: dir },
                    dataType: "JSON",
                    success: function(data)
                    {
                    }
                });
        }

        function postular_convocatoria(id){
            //$('#carga_archivos').hide();
            //$('#modal_asistencia').modal('show');
            //$('#modal-title').text('Postula a la convocatoria #'+ id);
            //$('#IDconvocatoria_e').val(id);
            save_method = 'add';
            $('#form_convocatoria')[0].reset();
            $('#btnGuardar').text('Siguiente Paso');
            $('#titulo_convocatoria').text('Postula a la convocatoria #'+ id);
            $('#fk_convocatoria').val(id);
            $('#carga_archivos').hide();
            $('#modal_convocatoria').modal('show');
        }

        function guardar_convocatoria(){
            $('#btnGuardar').text('Guardando...'); 
            $('#btnGuardar').attr('disabled',true); 
            var url;
         
            if(save_method == 'add') {
                url = "<?php echo site_url('Consulta/registrar_docente')?>";
            } else {
                url = "<?php echo site_url('convocatoria/actualizar')?>";
            }
         
            $.ajax({
                url : url,
                type: "POST",
                data: $('#form_convocatoria').serialize(),
                dataType: "JSON",
                success: function(data)
                {
                    if(data.status) {
                        console.log(data);
                        $('#carga_archivos').show();
                        $('#IDconvocatoria').val(data.ID);
                        convocatoria = data.ID;
                        cambio(1);
                        limpiar_tabs();
                        //reload_table();
                        //$('#btnGuardar').text('Terminar Postulacion');
                        $('#btnGuardar').hide(); 
                        //$('#btnGuardar').attr('disabled',false); 
                       
                    } else {
                       
                        for (var i = 0; i < data.inputerror.length; i++) {
                            $('[name="'+data.inputerror[i]+'"]').parent().parent().addClass('has-error'); 
                            $('[name="'+data.inputerror[i]+'"]').next().text(data.error_string[i]);
                        }
                        $('#btnGuardar').text('Guardar'); 
                        $('#btnGuardar').attr('disabled',false); 
                    }

                   
                    
                    
                },
                error: function (jqXHR, textStatus, errorThrown)
                {
                    alert('Error adding / update data');
                    $('#btnGuardar').text('Guardar'); 
                    $('#btnGuardar').attr('disabled',false); 
         
                }
            });
        }
        
        function limpiar_tabs(){
            
            $(".nav-tabs li").removeClass("active");
            $('#principal').addClass('active');
        }



        function cambio(url){
            tipo = url;
            $("table tbody.files").empty();
            load(convocatoria+'/'+url);
        }

        function load(folder){
            'use strict';
        
            $('#fileupload').fileupload({
                url: '<?php echo site_url('Consulta/subir')?>?data='+folder,
            });
            
            $('#fileupload').fileupload(
                'option',
                'redirect',
                window.location.href.replace(
                    /\/[^\/]*$/,
                    '/cors/result.html?%s'
                )
            );
        
            if (window.location.hostname === 'blueimp.github.io') {
                $('#fileupload').fileupload('option', {
                    url: '<?php echo site_url('Consulta/subir')?>',
                    disableImageResize: /Android(?!.*Chrome)|Opera/
                        .test(window.navigator.userAgent),
                    maxFileSize: 999000,
                    acceptFileTypes: /(\.|\/)(gif|jpe?g|png)$/i
                });
                if ($.support.cors) {
                    $.ajax({
                        url: '<?php echo site_url('Consulta/subir')?>',
                        type: 'HEAD'
                    }).fail(function () {
                        $('<div class="alert alert-danger"/>')
                            .text('Upload server currently unavailable - ' +
                                    new Date())
                            .appendTo('#fileupload');
                    });
                }
            } else {
                $('#fileupload').addClass('fileupload-processing');
                $.ajax({
                    url: $('#fileupload').fileupload('option', 'url'),
                    dataType: 'json',
                    context: $('#fileupload')[0]
                }).always(function () {
                    $(this).removeClass('fileupload-processing');
                }).done(function (result) {
                    $(this).fileupload('option', 'done')
                        .call(this, $.Event('done'), {result: result});
                });
            }
    }

    //     function registrar_asistencias() {
    //     /*---------*/
    //     var input_dni = $('#input_dni').val();
    //     var nombre_docente = $('#input_nombre').val();
    //     var input_apaterno = $('#input_apaterno').val();
    //     var input_amaterno = $('#input_amaterno').val();
    //     var input_sexo = $('#input_sexo').val();
    //     var input_cel = $('#input_cel').val();
    //     var input_email = $('#input_email').val();
    //     var input_estado_civil = $('#input_estado_civil').val();
    //     var input_direccion = $('#input_direccion').val();

    //     var pk_convocatoria = $('#IDconvocatoria_e').val();

    //     $.ajax({
    //         url : "<?php echo site_url('Consulta/registrar_docente')?>",
    //         type: 'post',
    //         data: {
    //             input_dni: input_dni,
    //             nombre_docente: nombre_docente,
    //             input_apaterno: input_apaterno,
    //             input_amaterno : input_amaterno,
    //             input_sexo : input_sexo,
    //             input_cel : input_cel,
    //             input_email : input_email,
    //             input_estado_civil : input_estado_civil,
    //             input_direccion : input_direccion,
    //             pk_convocatoria : pk_convocatoria

    //         },
    //         dataType: 'json',
    //         success: function (response) {
    //             //console.log(turno);
    //             if (response.status) {
    //                 $('#modal_asistencia').modal('hide');
    //                 //$('#msg').text(response.msg);
    //                 $('#mRespuesta').modal('show');
    //                 $('#form_asistencia')[0].reset();
    //                 //$('#mConfirmacion').modal('hide');
    //                 //reload_tabla_asistencias();
    //                 console.log("c:");
    //             } else {
    //                 console.log(response);
    //                 for (var i = 0; i < response.inputerror.length; i++) {
    //                     $('#' + response.inputerror[i]).parent().parent().addClass('has-error');
    //                     $('#' + response.inputerror[i]).next().text(response.error_string[i]);
    //                 }
    //             }
    //             //$('#btn_registrar').attr('disabled', false);
    //         }
    //     });
    // }


        // function confirmar(){   
        // $("#btnGuardar").click(function() {

        //    var nombre = $('#nombre_docente').val();

        //     console.log(nombre);
        //    // $.ajax({
                
        //    //      type: "POST",
        //    //      url : "<?php echo site_url('convocatoria/registrar_docente')?>",
        //    //      data: $('#form_convocatoria').serialize(),
        //    //      dataType: "JSON",
        //    //      success: function(data)
        //    //      {
        //    //          if (response.status) {
        //    //              console.log("respira c:");                      
        //    //          } else {
        //    //                 console.log(response);
        //    //              for (var i = 0; i < response.inputerror.length; i++) {
        //    //                  $('#' + response.inputerror[i]).parent().parent().addClass('has-error');
        //    //                  $('#' + response.inputerror[i]).next().text(response.error_string[i]);
        //    //              }
        //    //              //$('#btnGuardar').text('Guardar'); 
        //    //              //$('#btnGuardar').attr('disabled',false); 
        //    //          }  
        //    //      }
        //    //  });
        // });
            
        // }

      </script>
      
</body>

</html>
